# 嘎巴龙情绪指令说明

## 🎭 可用的情绪状态

嘎巴龙有以下情绪视频和表现：

### 📁 情绪视频文件
- `嘎巴龙待机.mp4` - 默认状态（循环播放）
- `嘎巴龙生气.mp4` - 生气状态
- `嘎巴龙开心.mp4` - 开心状态  
- `嘎巴龙伤心.mp4` - 伤心状态
- `嘎巴龙害怕.mp4` - 害怕状态
- `嘎巴龙鼓励安慰.mp4` - 鼓励安慰状态

## 🎮 情绪控制参数

在 `DigitalAvatar` 组件中，可以通过以下参数控制情绪：

```javascript
<DigitalAvatar
  showAngryVideo={true}     // 显示生气视频
  showHappyVideo={true}     // 显示开心视频  
  showSadVideo={true}       // 显示伤心视频
  showScaredVideo={true}    // 显示害怕视频
  onAngryVideoEnd={callback}  // 生气视频结束回调
  onHappyVideoEnd={callback}  // 开心视频结束回调
  onSadVideoEnd={callback}   // 伤心视频结束回调
  onScaredVideoEnd={callback} // 害怕视频结束回调
/>
```

## 🎨 情绪视觉效果

每种情绪都有对应的颜色主题：

### 🔴 生气 (Angry)
- **颜色**: 红色 `rgba(255, 68, 68, ...)`
- **效果**: 红色光环和渐变

### 💛 开心 (Happy)  
- **颜色**: 金黄色 `rgba(255, 215, 0, ...)`
- **效果**: 黄色光环和渐变

### 💙 伤心 (Sad)
- **颜色**: 蓝色 `rgba(59, 130, 246, ...)`
- **效果**: 蓝色光环和渐变

### 🤎 害怕 (Scared)
- **颜色**: 棕色 `rgba(139, 69, 19, ...)`
- **效果**: 棕色光环和渐变

## 🔧 使用示例

### 1. 触发生气情绪
```javascript
const [showAngry, setShowAngry] = useState(false)

// 触发生气
setShowAngry(true)

// 生气视频结束后回到待机
const handleAngryEnd = () => {
  setShowAngry(false)
}

<DigitalAvatar 
  showAngryVideo={showAngry}
  onAngryVideoEnd={handleAngryEnd}
/>
```

### 2. 语音触发情绪
在语音交互中，可以通过特定关键词触发情绪：

```javascript
// 在语音处理中检测情绪关键词
if (userText.includes('生气') || userText.includes('愤怒')) {
  setShowAngryVideo(true)
} else if (userText.includes('开心') || userText.includes('高兴')) {
  setShowHappyVideo(true)
} else if (userText.includes('伤心') || userText.includes('难过')) {
  setShowSadVideo(true)
} else if (userText.includes('害怕') || userText.includes('恐惧')) {
  setShowScaredVideo(true)
}
```

### 3. AI回复触发情绪
在AI回复中，可以通过特定内容触发对应情绪：

```javascript
// 在DigitalHumanService中添加情绪检测
const detectEmotionFromResponse = (aiResponse) => {
  if (aiResponse.includes('生气') || aiResponse.includes('愤怒')) {
    return 'angry'
  }
  if (aiResponse.includes('开心') || aiResponse.includes('高兴')) {
    return 'happy'
  }
  if (aiResponse.includes('伤心') || aiResponse.includes('难过')) {
    return 'sad'
  }
  if (aiResponse.includes('害怕') || aiResponse.includes('恐惧')) {
    return 'scared'
  }
  return 'normal'
}
```

## 💡 建议的情绪指令

### 对话中的情绪触发词
- **生气**: "我很生气"、"真让人愤怒"、"气死我了"
- **开心**: "我很开心"、"太高兴了"、"好棒啊"  
- **伤心**: "我很难过"、"感觉很伤心"、"想哭"
- **害怕**: "我很害怕"、"好恐怖"、"吓死我了"

### AI回复情绪表达
- 当AI感到生气时播放生气视频
- 当AI表达高兴时播放开心视频
- 当AI表示同情时播放伤心视频
- 当AI描述恐怖场景时播放害怕视频

## 🎯 注意事项

1. **单一情绪**: 同时只能显示一种情绪视频
2. **非循环**: 情绪视频播放一次后结束，返回待机状态  
3. **回调处理**: 需要设置回调函数处理情绪视频结束
4. **立即打断**: 情绪视频播放时仍支持立即打断功能

这就是嘎巴龙完整的情绪控制系统！ 🎭✨